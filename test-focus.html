<!DOCTYPE html>
<html>
<head>
    <title>Focus Management Test</title>
</head>
<body>
    <h1>Focus Management Test Results</h1>
    
    <h2>Implementation Summary:</h2>
    <ul>
        <li>✅ Added ref for "Change Medication" button</li>
        <li>✅ Added ref for form container</li>
        <li>✅ Imported useKeyboardNavigation hook</li>
        <li>✅ Implemented focus trap for dosage configuration section when medication is selected</li>
        <li>✅ Added initial focus to "Change Medication" button on page load</li>
        <li>✅ Added focus restoration after modal closes</li>
    </ul>
    
    <h2>Expected Behavior:</h2>
    <ol>
        <li>When page loads with medication selected: "Change Medication" button receives focus</li>
        <li>When medication is selected from modal: Focus moves to "Change Medication" button</li>
        <li>Tab navigation is trapped within the form (tabIndex 1-22)</li>
        <li>Tab from last element (Save button) wraps to first (Change Medication)</li>
        <li>Shift+Tab from first element wraps to last</li>
    </ol>
    
    <h2>Key Changes Made:</h2>
    <pre>
1. MedicationManagementPage.tsx:
   - Added useRef for changeMedicationButtonRef and formContainerRef
   - Added useKeyboardNavigation hook with:
     * containerRef: formContainerRef
     * enabled: when medication selected and modal closed
     * trapFocus: true
     * wrapAround: true
     * initialFocusRef: changeMedicationButtonRef
   - Added ref={changeMedicationButtonRef} to Button
   - Added ref={formContainerRef} to form container div
   - Added requestAnimationFrame focus after modal close
   - Added initial focus in useEffect when page loads
    </pre>
    
    <h2>Testing Instructions:</h2>
    <ol>
        <li>Navigate to medication management page</li>
        <li>Select a medication from the modal</li>
        <li>Verify "Change Medication" button has focus</li>
        <li>Press Tab repeatedly to verify focus cycles through form</li>
        <li>Press Shift+Tab to verify reverse cycling</li>
        <li>Verify you cannot tab outside the form area</li>
    </ol>
</body>
</html>